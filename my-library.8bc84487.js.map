{"mappings":"oeAGAA,EAAA,S,4CCAA,IAAAC,EAAAD,EAAA,S,sDAmBA,SAASE,EAAMC,GACd,IACE,MAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,EAI5C,IACCC,SAASC,iBAAiB,oBAQ3B,WACEH,QAAQI,IAAIb,EAAMc,EAAAC,uBACnB,MAAMC,EAAehB,EAAMc,EAAAC,sBAG3B,GAFEN,QAAQI,IAAIG,QAEKX,IAAfW,EACH,OAIDC,EAAmBD,E,IAjBnBE,EAAAC,IAAIC,kBAAkBR,iBAAiB,SAmBxC,SAA2BS,GAC1BH,EAAAC,IAAIC,kBAAkBE,MAAMC,gBAAkB,UAC9CL,EAAAC,IAAIK,YAAYC,UAAY,GAC5B,MAAMT,EAAehB,EAAMc,EAAAC,sBAE3B,QAAmBV,IAAfW,EACH,OAGDC,EAAmBD,E,IA3BnBE,EAAAC,IAAIO,gBAAgBd,iBAAiB,SA6BtC,SAAyBS,GACxBH,EAAAC,IAAIC,kBAAkBE,MAAMC,gBAAkB,UAC9CL,EAAAC,IAAIK,YAAYC,UAAY,GAC5B,MAAME,EAAa3B,EAAMc,EAAAc,oBAEzB,QAAiBvB,IAAbsB,EACH,OAGDV,EAAmBU,E,IArChB,MAAOnB,GACTC,QAAQI,IAAIL,E,CAwCdqB,eAAeZ,EAAmBa,GACjC,IAEC,MAAMC,EAAkBD,EAAIE,KAAIH,MAAOI,SAAa,EAAAlC,EAAAmC,eAAcD,KAC5DE,QAAaC,QAAQC,IAAIN,IAE9B,EAAAO,EAAAC,2BAA0BrB,EAAAC,IAAKgB,E,CAC/B,MAAOK,GACP/B,QAAQI,IAAI2B,E,EA7CdtB,EAAAC,IAAIC,kBAAkBE,MAAMC,gBAAkB,U","sources":["src/indexLibrary.js","src/js/library.js"],"sourcesContent":["// Стили\n\n// Скрипты\nimport './js/api/api-vars';\nimport './js/api/fetch';\nimport './js/references/ref';\n\n// import './js/fetchAndRenderPopularFilm';\nimport './js/render/renderFilmByIdForLibrary';\nimport './js/render/modal-students';\nimport './js/library';\n\nimport './js/modal';\nimport './js/localStorage';\n\nimport './js/requests/searchFilms';\nimport './js/render/renderSearchFilms';\n\n// Переключатель темы\n\nimport './js/switcher';\nimport './js/authentication/authentication';\n","// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n// import { fetchTrendedFilms } from './api/fetch';\n// import { fetchSearchedFilms } from './api/fetch';\nimport { fetchFilmById } from './api/fetch';\nimport { fetchFilmGenres } from './api/fetch';\n// import { renderPopularFilms } from './render/renderPopularFilm';\nimport { renderFilmsByIdForLibrary } from './render/renderFilmByIdForLibrary';\n// import { renderFilms } from './render/renderHTML';\nimport { ref } from './references/ref';\n// import { options, pagination } from './pagination';\nimport { LOCALSTORAGE_WATCHED, LOCALSTORAGE_QUEUE } from './api/api-vars';\n\n// let textContent = '';\n// const  LOCALSTORAGE_WATCHED =  \"watched\";\n// const  LOCALSTORAGE_QUEUE =  \"queue\";\n\n// const dyk = [800815];\n// \t  localStorage.setItem(LOCALSTORAGE_WATCHED, JSON.stringify(dyk));\n\n// const qyk = [653851];\n// localStorage.setItem(LOCALSTORAGE_QUEUE, JSON.stringify(qyk));\n\nfunction load (key) {\n\ttry {\n\t  const serializedState = localStorage.getItem(key);\n\t  return serializedState === null ? undefined : JSON.parse(serializedState);\n\t} catch (error) {\n\t  console.error(\"Get state error: \", error.message);\n\t}\n };\n\ntry {\n\tdocument.addEventListener('DOMContentLoaded', onDOMContentLoaded);\n\tref.libraryWatchedBtn.addEventListener('click', onClickWatchedBtn);\n\tref.libraryQueueBtn.addEventListener('click', onClickQueueBtn);\n\t } catch (error) {\n\t\tconsole.log(error);\n\t }\n// ref.libraryWatchedBtn.classList.add(\"modal-btn-rev\")\n ref.libraryWatchedBtn.style.backgroundColor = \"#ff6b01\"; \nfunction onDOMContentLoaded() {\n\t console.log(load (LOCALSTORAGE_WATCHED));\n\tconst arrayWatched = load (LOCALSTORAGE_WATCHED);\n\t  console.log(arrayWatched);\n\t  \n\tif (arrayWatched===undefined) {\n\t\treturn\n\t}\n\t// // console.log(arrayWatched);\n\t// const ars =arrayWatched.map(ar => ar.id);\n\tfetchAndRenderFilm(arrayWatched);\t\n}\nfunction onClickWatchedBtn(e) {\n\tref.libraryWatchedBtn.style.backgroundColor = \"#ff6b01\"; \n\tref.libraryList.innerHTML = \"\";\n\tconst arrayWatched = load (LOCALSTORAGE_WATCHED);\n\t// console.log(arrayWatched);\n\tif (arrayWatched===undefined) {\n\t\treturn\n\t}\n\t// const ars = arrayWatched.map(ar => ar.id);\n\tfetchAndRenderFilm(arrayWatched);\n }\nfunction onClickQueueBtn(e) {\n\tref.libraryWatchedBtn.style.backgroundColor = \"#000000\"; \n\tref.libraryList.innerHTML = \"\";\n\tconst arrayQueue = load (LOCALSTORAGE_QUEUE);\n\t// console.log(arrayQueue);\n\tif (arrayQueue===undefined) {\n\t\treturn\n\t}\n\t// const ars = arrayQueue.map(ar => ar.id);\n\tfetchAndRenderFilm(arrayQueue);\n}\n// const ids = [550, 299536, 383498];\n// console.log(ids.map(id => console.log(id)));\nasync function fetchAndRenderFilm(ids) {\n\ttry {\n\t\t// console.log(ids);\n\t const arrayOfPromises = ids.map(async (id) => await fetchFilmById(id));\n\t const data = await Promise.all(arrayOfPromises);\n\t//   console.log(data);\n\t  renderFilmsByIdForLibrary(ref, data);\n\t} catch (error) {\n\t  console.log(error);\n\t}\n }\n\n"],"names":["parcelRequire","$i2Aqx","$1cafa503bc57b7a0$var$load","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","document","addEventListener","log","$edYM8","LOCALSTORAGE_WATCHED","arrayWatched","$1cafa503bc57b7a0$var$fetchAndRenderFilm","$3IenU","ref","libraryWatchedBtn","e","style","backgroundColor","libraryList","innerHTML","libraryQueueBtn","arrayQueue","LOCALSTORAGE_QUEUE","async","ids","arrayOfPromises","map","id","fetchFilmById","data","Promise","all","$8RrMY","renderFilmsByIdForLibrary","error1"],"version":3,"file":"my-library.8bc84487.js.map"}