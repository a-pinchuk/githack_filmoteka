function t(t,e,n,a){Object.defineProperty(t,e,{get:n,set:a,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},o={},l=n.parcelRequire294f;null==l&&((l=function(t){if(t in a)return a[t].exports;if(t in o){var e=o[t];delete o[t];var n={id:t,exports:{}};return a[t]=n,e.call(n.exports,n,n.exports),n.exports}var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(t,e){o[t]=e},n.parcelRequire294f=l),l.register("kyEFX",(function(e,n){var a,o;t(e.exports,"register",(function(){return a}),(function(t){return a=t})),t(e.exports,"resolve",(function(){return o}),(function(t){return o=t}));var l={};a=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)l[e[n]]=t[e[n]]},o=function(t){var e=l[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),l("kyEFX").register(JSON.parse('{"jkrmj":"my-library.c556f673.js","lp5u4":"sprite.94f83ab5.svg","chicg":"my-library.ec3ab33b.css","cQCmt":"my-library.307c0bf6.js"}')),l("edYM8"),l("i2Aqx"),l("3IenU"),l("8RrMY"),l("klbR5");var i=l("i2Aqx"),r=(i=l("i2Aqx"),l("8RrMY")),d=l("3IenU"),s=l("edYM8");function c(t){try{const e=localStorage.getItem(t);return null===e?void 0:JSON.parse(e)}catch(t){console.error("Get state error: ",t.message)}}try{document.addEventListener("DOMContentLoaded",(function(){console.log(c(s.LOCALSTORAGE_WATCHED));const t=c(s.LOCALSTORAGE_WATCHED);if(console.log(t),void 0===t)return;u(t)})),d.ref.libraryWatchedBtn.addEventListener("click",(function(t){d.ref.libraryWatchedBtn.style.backgroundColor="#ff6b01",d.ref.libraryList.innerHTML="";const e=c(s.LOCALSTORAGE_WATCHED);if(void 0===e)return;u(e)})),d.ref.libraryQueueBtn.addEventListener("click",(function(t){d.ref.libraryWatchedBtn.style.backgroundColor="#000000",d.ref.libraryList.innerHTML="";const e=c(s.LOCALSTORAGE_QUEUE);if(void 0===e)return;u(e)}))}catch(t){console.log(t)}async function u(t){try{const e=t.map((async t=>await(0,i.fetchFilmById)(t))),n=await Promise.all(e);(0,r.renderFilmsByIdForLibrary)(d.ref,n)}catch(t){console.log(t)}}d.ref.libraryWatchedBtn.style.backgroundColor="#ff6b01",l("31u3U"),l("gRhVM"),l("edYM8");i=l("i2Aqx"),d=l("3IenU");var m,p=l("58nxT"),f=l("31u3U");function b(t){const e=document.querySelector(".backdrop-info");"Escape"!==t.key&&"click"!==t.type||(d.ref.modal.classList.toggle("is-hidden"),d.ref.modalWrap.innerHTML="",document.body.style.overflow="",e.style.backgroundImage="",document.removeEventListener("keydown",b))}m=new URL(l("kyEFX").resolve("lp5u4"),import.meta.url).toString(),d.ref.libraryList.addEventListener("click",(async function(t){document.addEventListener("keydown",b),d.ref.loader.style.display="flex";const n=JSON.parse(localStorage.getItem("darkmode"));n?(d.ref.modalWindow.classList.add("modal-window-dark"),d.ref.closeIcon.classList.add("icon-close-dark")):(d.ref.modalWindow.classList.remove("modal-window-dark"),d.ref.closeIcon.classList.remove("icon-close-dark"));d.ref.modal.classList.toggle("is-hidden"),document.body.style.overflow="hidden";const a=t.target.closest(".photo__card").getAttribute("id"),o=await(0,i.fetchFilmById)(a).then((t=>t.data));(function(t){const e=document.querySelector(".backdrop-info");e.style.backgroundImage=`url(https://image.tmdb.org/t/p/w1280/${t.backdrop_path})`,e.style.backgroundRepeat="no-repeat",e.style.backgroundSize="cover",e.style.backgroundPosition="center"})(o),n?d.ref.modalWrap.insertAdjacentHTML("afterBegin",(l=o,`<div class="modal-img-wrap">\n          <div class="modal-wrap-img-btn"><img src="https://image.tmdb.org/t/p/w500/${l.poster_path}" alt="${l.title}" class="modal-image"/>\n            <button type="button" class="modal-btn-trailer"><svg class="btn-trailer-icon"><use href="${e(m)}#icon-play"></use></svg>\n          </button></div>\n      </div>\n      <div class="modal-info">\n        <h2 class="modal-info-name">${l.title}</h2>\n        <ul class="modal-info-list">\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Vote / Votes</p>\n            <p class="modal-info-value modal-info-value-dark"><span class="modal-info-value-vote">${l.vote_average}</span>/<span\n                class="modal-info-value-votes"\n                >${l.vote_count}</span\n              ></p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Popularity</p>\n            <p class="modal-info-value-dark modal-info-value">${l.popularity}</p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Original Title</p>\n            <p class="modal-info-value modal-info-value-dark">${l.original_title}</p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Genre</p>\n            <p class="modal-info-value modal-info-value-dark">${l.genres.map((t=>t.name)).join(", ")}</p>\n          </li>\n        </ul>\n        <p class="modal-info-pre-about">About</p>\n        <p class="modal-info-about">\n          ${l.overview}\n        </p>\n        <div class="btn-modal-wrap">\n\t\t  <div class="modal-btn-wrap">\n          <button type="button" class="modal-btn modal-btn-dark modal-btn-watched" data-watched="${l.id}">\n            Add to watched\n          </button>\n\t\t\t <button type="button" class="modal-btn modal-btn-dark modal-btn-watched" data-watched-rem="${l.id}">\n\t\t\t Rem to watched\n          </button>\n\t\t\t </div>\n\t\t\t <div class="modal-btn-wrap">\n          <button type="button" class="modal-btn modal-btn-dark modal-btn-queue" data-queue="${l.id}">\n            Add to queue\n          </button>\n\t\t\t <button type="button" class="modal-btn modal-btn-dark modal-btn-queue" data-queue-rem="${l.id}">\n\t\t\t Rem to queue\n          </button>\n\t\t\t </div>\n        </div>\n      </div>`)):d.ref.modalWrap.insertAdjacentHTML("afterBegin",function(t){return`<div class="modal-img-wrap">\n          <div class="modal-wrap-img-btn"><img src="https://image.tmdb.org/t/p/w500/${t.poster_path}" alt="${t.title}" class="modal-image"/>\n            <button type="button" class="modal-btn-trailer"><svg class="btn-trailer-icon"><use href="${e(m)}#icon-play"></use></svg>\n          </button></div>\n      </div>\n      <div class="modal-info">\n        <h2 class="modal-info-name">${t.title}</h2>\n                <ul class="modal-info-list">\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Vote / Votes</p>\n            <p class="modal-info-value"><span class="modal-info-value-vote">${t.vote_average}</span>/<span\n                class="modal-info-value-votes"\n                >${t.vote_count}</span\n              ></p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Popularity</p>\n            <p class="modal-info-value">${t.popularity}</p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Original Title</p>\n            <p class="modal-info-value">${t.original_title}</p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Genre</p>\n            <p class="modal-info-value">${t.genres.map((t=>t.name)).join(", ")}</p>\n          </li>\n        </ul>\n        <p class="modal-info-pre-about">About</p>\n        <p class="modal-info-about">\n          ${t.overview}\n        </p>\n        <div class="btn-modal-wrap">\n\t\t  <div class="modal-btn-wrap">\n          <button type="button" class="modal-btn modal-btn-watched" data-watched="${t.id}">\n            Add to watched\n          </button>\n\t\t\t <button type="button" class="modal-btn modal-btn-watched" data-watched-rem="${t.id}">\n\t\t\t Rem to watched\n          </button>\n\t\t\t </div>\n\t\t\t <div class="modal-btn-wrap">\n          <button type="button" class="modal-btn modal-btn-queue" data-queue="${t.id}">\n            Add to queue\n          </button>\n\t\t\t <button type="button" class="modal-btn modal-btn-queue" data-queue-rem="${t.id}">\n\t\t\t Rem to queue\n          </button>\n\t\t\t </div>\n        </div>\n      </div>`}(o));var l;(0,p.loaderHide)(),await(0,f.saveLocalStorage)();const r=document.querySelector(".modal-btn-trailer"),s=document.querySelector(".modal-img-wrap");r.addEventListener("click",(async function(){const e=t.target.closest(".photo__card").getAttribute("id"),n=await(0,i.fetchFilmTrailer)(e).then((t=>t.data)),a=n.results.length-1;s.remove(),r.style.display="none",d.ref.modalWrap.insertAdjacentHTML("afterBegin",function({key:t}){return`<iframe\n  width="375"\n    height="478"\n    src="https://www.youtube.com/embed/${t}"\n    title="YouTube video player"\n    frameborder="0"\n    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"\n    allowfullscreen\n    waitUntil()\n    class='modal-image'\n  ></iframe>`}(n.results[a]))}))})),d.ref.closeModalBtn.addEventListener("click",b),d.ref.modal.addEventListener("keydown",b),d.ref.modal.addEventListener("click",(function(t){const e=document.querySelector(".backdrop-info");t.target===t.currentTarget&&(d.ref.modal.classList.toggle("is-hidden"),d.ref.modalWrap.innerHTML="",document.body.style.overflow="",e.style.backgroundImage="",document.removeEventListener("keydown",b))})),l("7mw0q"),l("ccLkp"),l("1iCTa"),l("8Ww9Z");
//# sourceMappingURL=my-library.c556f673.js.map
