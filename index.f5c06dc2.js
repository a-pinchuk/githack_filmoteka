function t(t,e,n,a){Object.defineProperty(t,e,{get:n,set:a,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},o={},l=n.parcelRequire294f;null==l&&((l=function(t){if(t in a)return a[t].exports;if(t in o){var e=o[t];delete o[t];var n={id:t,exports:{}};return a[t]=n,e.call(n.exports,n,n.exports),n.exports}var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(t,e){o[t]=e},n.parcelRequire294f=l),l.register("kyEFX",(function(e,n){var a,o;t(e.exports,"register",(function(){return a}),(function(t){return a=t})),t(e.exports,"resolve",(function(){return o}),(function(t){return o=t}));var l={};a=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)l[e[n]]=t[e[n]]},o=function(t){var e=l[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),l("kyEFX").register(JSON.parse('{"5ZPII":"index.f5c06dc2.js","lp5u4":"sprite.94f83ab5.svg","chicg":"my-library.ec3ab33b.css","cQCmt":"my-library.307c0bf6.js"}')),l("edYM8"),l("i2Aqx"),l("3IenU"),l("58nxT"),l("klbR5"),l("gRhVM"),l("edYM8");var s,d=l("i2Aqx"),i=l("3IenU"),r=l("58nxT"),c=l("31u3U");function u(t){const e=document.querySelector(".backdrop-info");"Escape"!==t.key&&"click"!==t.type||(i.ref.modal.classList.toggle("is-hidden"),i.ref.modalWrap.innerHTML="",document.body.style.overflow="",e.style.backgroundImage="",document.removeEventListener("keydown",u))}s=new URL(l("kyEFX").resolve("lp5u4"),import.meta.url).toString(),i.ref.galleryList.addEventListener("click",(async function(t){document.addEventListener("keydown",u),i.ref.loader.style.display="flex";const n=JSON.parse(localStorage.getItem("darkmode"));n?(i.ref.modalWindow.classList.add("modal-window-dark"),i.ref.closeIcon.classList.add("icon-close-dark")):(i.ref.modalWindow.classList.remove("modal-window-dark"),i.ref.closeIcon.classList.remove("icon-close-dark"));i.ref.modal.classList.toggle("is-hidden"),document.body.style.overflow="hidden";const a=t.target.closest(".photo__card").getAttribute("id"),o=await(0,d.fetchFilmById)(a).then((t=>t.data));(function(t){const e=document.querySelector(".backdrop-info");e.style.backgroundImage=`url(https://image.tmdb.org/t/p/w1280/${t.backdrop_path})`,e.style.backgroundRepeat="no-repeat",e.style.backgroundSize="cover",e.style.backgroundPosition="center"})(o),n?i.ref.modalWrap.insertAdjacentHTML("afterBegin",(l=o,`<div class="modal-img-wrap">\n          <div class="modal-wrap-img-btn"><img src="https://image.tmdb.org/t/p/w500/${l.poster_path}" alt="${l.title}" class="modal-image"/>\n            <button type="button" class="modal-btn-trailer"><svg class="btn-trailer-icon"><use href="${e(s)}#icon-play"></use></svg>\n          </button></div>\n      </div>\n      <div class="modal-info">\n        <h2 class="modal-info-name">${l.title}</h2>\n        <ul class="modal-info-list">\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Vote / Votes</p>\n            <p class="modal-info-value modal-info-value-dark"><span class="modal-info-value-vote">${l.vote_average}</span>/<span\n                class="modal-info-value-votes"\n                >${l.vote_count}</span\n              ></p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Popularity</p>\n            <p class="modal-info-value-dark modal-info-value">${l.popularity}</p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Original Title</p>\n            <p class="modal-info-value modal-info-value-dark">${l.original_title}</p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Genre</p>\n            <p class="modal-info-value modal-info-value-dark">${l.genres.map((t=>t.name)).join(", ")}</p>\n          </li>\n        </ul>\n        <p class="modal-info-pre-about">About</p>\n        <p class="modal-info-about">\n          ${l.overview}\n        </p>\n        <div class="btn-modal-wrap">\n\t\t  <div class="modal-btn-wrap">\n          <button type="button" class="modal-btn modal-btn-dark modal-btn-watched" data-watched="${l.id}">\n            Add to watched\n          </button>\n\t\t\t <button type="button" class="modal-btn modal-btn-dark modal-btn-watched" data-watched-rem="${l.id}">\n\t\t\t Rem to watched\n          </button>\n\t\t\t </div>\n\t\t\t <div class="modal-btn-wrap">\n          <button type="button" class="modal-btn modal-btn-dark modal-btn-queue" data-queue="${l.id}">\n            Add to queue\n          </button>\n\t\t\t <button type="button" class="modal-btn modal-btn-dark modal-btn-queue" data-queue-rem="${l.id}">\n\t\t\t Rem to queue\n          </button>\n\t\t\t </div>\n        </div>\n      </div>`)):i.ref.modalWrap.insertAdjacentHTML("afterBegin",function(t){return`<div class="modal-img-wrap">\n          <div class="modal-wrap-img-btn"><img src="https://image.tmdb.org/t/p/w500/${t.poster_path}" alt="${t.title}" class="modal-image"/>\n            <button type="button" class="modal-btn-trailer"><svg class="btn-trailer-icon"><use href="${e(s)}#icon-play"></use></svg>\n          </button></div>\n      </div>\n      <div class="modal-info">\n        <h2 class="modal-info-name">${t.title}</h2>\n                <ul class="modal-info-list">\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Vote / Votes</p>\n            <p class="modal-info-value"><span class="modal-info-value-vote">${t.vote_average}</span>/<span\n                class="modal-info-value-votes"\n                >${t.vote_count}</span\n              ></p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Popularity</p>\n            <p class="modal-info-value">${t.popularity}</p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Original Title</p>\n            <p class="modal-info-value">${t.original_title}</p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Genre</p>\n            <p class="modal-info-value">${t.genres.map((t=>t.name)).join(", ")}</p>\n          </li>\n        </ul>\n        <p class="modal-info-pre-about">About</p>\n        <p class="modal-info-about">\n          ${t.overview}\n        </p>\n        <div class="btn-modal-wrap">\n\t\t  <div class="modal-btn-wrap">\n          <button type="button" class="modal-btn modal-btn-watched" data-watched="${t.id}">\n            Add to watched\n          </button>\n\t\t\t <button type="button" class="modal-btn modal-btn-watched" data-watched-rem="${t.id}">\n\t\t\t Rem to watched\n          </button>\n\t\t\t </div>\n\t\t\t <div class="modal-btn-wrap">\n          <button type="button" class="modal-btn modal-btn-queue" data-queue="${t.id}">\n            Add to queue\n          </button>\n\t\t\t <button type="button" class="modal-btn modal-btn-queue" data-queue-rem="${t.id}">\n\t\t\t Rem to queue\n          </button>\n\t\t\t </div>\n        </div>\n      </div>`}(o));var l;(0,r.loaderHide)(),await(0,c.saveLocalStorage)();const m=document.querySelector(".modal-btn-trailer"),p=document.querySelector(".modal-img-wrap");m.addEventListener("click",(async function(){const e=t.target.closest(".photo__card").getAttribute("id"),n=await(0,d.fetchFilmTrailer)(e).then((t=>t.data)),a=n.results.length-1;p.remove(),m.style.display="none",i.ref.modalWrap.insertAdjacentHTML("afterBegin",function({key:t}){return`<iframe\n  width="375"\n    height="478"\n    src="https://www.youtube.com/embed/${t}"\n    title="YouTube video player"\n    frameborder="0"\n    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"\n    allowfullscreen\n    waitUntil()\n    class='modal-image'\n  ></iframe>`}(n.results[a]))}))})),i.ref.closeModalBtn.addEventListener("click",u),i.ref.modal.addEventListener("keydown",u),i.ref.modal.addEventListener("click",(function(t){const e=document.querySelector(".backdrop-info");t.target===t.currentTarget&&(i.ref.modal.classList.toggle("is-hidden"),i.ref.modalWrap.innerHTML="",document.body.style.overflow="",e.style.backgroundImage="",document.removeEventListener("keydown",u))})),l("31u3U"),l("7mw0q"),l("ccLkp");const m=document.querySelector(".scroll-up"),p=document.querySelector(".scroll-up__sircle-path"),f=p.getTotalLength();function b(){return window.pageYOffset||document.documentElement.scrollTop}p.style.strokeDasharray=`${f} ${f}`,p.style.transition="stroke-dashoffset 20ms",m.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),window.addEventListener("scroll",(function(){(function(){const t=document.documentElement.scrollHeight-window.innerHeight,e=f-b()*f/t;p.style.strokeDashoffset=e})(),b()>=400?m.classList.add("scroll-up--active"):m.classList.remove("scroll-up--active")})),l("2nhTy"),l("1iCTa"),l("8Ww9Z");
//# sourceMappingURL=index.f5c06dc2.js.map
